<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download Charitable Grants from the 360Giving Platform • threesixtygiving</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Download Charitable Grants from the 360Giving Platform">
<meta property="og:description" content="Access open data from &lt;https://www.threesixtygiving.org&gt;, a 
    database of charitable grant giving in the UK operated by 360Giving.
    The package provides functions to search and retrieve data on charitable 
    grant giving, and process that data into tidy formats. It relies on the 
    360Giving data standard, described at 
    &lt;https://standard.threesixtygiving.org/&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-90706059-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-90706059-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">threesixtygiving</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="https://docs.evanodell.com">Docs Home</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="articles/introduction.html">Introduction</a>
</li>
<li>
  <a href="https://docs.evanodell.com">All Packages</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/EvanOdell/threesixtygiving">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://evanodell.com">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="threesixtygiving" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#threesixtygiving" class="anchor"></a>threesixtygiving</h1></div>
<p>Access open data from <a href="https://www.threesixtygiving.org/">360Giving</a> publishers. 360Giving is a data standard for publishing information about charitable grant giving in the UK. 360Giving maintains a <a href="http://data.threesixtygiving.org/">registry of grant makers</a> using the standard. The package provides functions to search and retrieve data on charitable giving.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<!--
You can install the released version of threesixtygiving from [CRAN](https://CRAN.R-project.org) with:
``` r
install.packages("threesixtygiving")
```
-->
<p>You can install the development version from <a href="https://github.com/evanodell/threesixtygiving">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="co"># install.packages("devtools")</span>
<span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"evanodell/threesixtygiving"</span>)</pre></div>
</div>
<div id="purpose" class="section level2">
<h2 class="hasAnchor">
<a href="#purpose" class="anchor"></a>Purpose</h2>
<p>The <code>threesixtygiving</code> package provides tools for programmatically downloading and analysing grants made by charitable trusts using the <a href="https://standard.threesixtygiving.org/">360Giving standard</a>. These include functions to search available datasets, retrieve data and process it to tidy formats.</p>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div class="sourceCode" id="cb2"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">threesixtygiving</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)

<span class="no">grants</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/threesixtygiving/man/tsg_all_grants.html">tsg_all_grants</a></span>(<span class="kw">timeout</span> <span class="kw">=</span> <span class="fl">8</span>, <span class="kw">retries</span> <span class="kw">=</span> <span class="fl">1</span>)

<span class="no">df</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/threesixtygiving/man/tsg_core_data.html">tsg_core_data</a></span>(<span class="no">grants</span>)

<span class="no">df2</span> <span class="kw">&lt;-</span> <span class="no">df</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">amount_awarded</span> <span class="kw">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span>(
    <span class="no">currency</span> <span class="kw">==</span> <span class="st">"USD"</span> ~ <span class="no">amount_awarded</span>/<span class="fl">1.29</span>, <span class="co">## rate on 2019-10-24</span>
    <span class="no">currency</span> <span class="kw">==</span> <span class="st">"CAD"</span> ~ <span class="no">amount_awarded</span>/<span class="fl">1.70</span>,
    <span class="no">currency</span> <span class="kw">==</span> <span class="st">"CHF"</span> ~ <span class="no">amount_awarded</span>/<span class="fl">1.27</span>,
    <span class="no">currency</span> <span class="kw">==</span> <span class="st">"EUR"</span> ~ <span class="no">amount_awarded</span>/<span class="fl">1.17</span>,
    <span class="fl">TRUE</span> ~ <span class="no">amount_awarded</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">funding_org_name</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="kw">n</span> <span class="kw">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span>(),
            <span class="kw">amount_awarded</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="no">amount_awarded</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">avg</span> <span class="kw">=</span> <span class="no">amount_awarded</span>/<span class="no">n</span>)

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html">theme_set</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>())

<span class="no">p1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="no">df2</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html">top_n</a></span>(<span class="fl">20</span>, <span class="no">amount_awarded</span>) <span class="kw">%&gt;%</span>
               <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">amount_awarded2</span> <span class="kw">=</span> <span class="no">amount_awarded</span>/<span class="fl">100000</span>),
             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span>(<span class="no">funding_org_name</span>, -<span class="no">amount_awarded2</span>),
                 <span class="kw">y</span> <span class="kw">=</span> <span class="no">amount_awarded2</span>, <span class="kw">fill</span> <span class="kw">=</span> <span class="no">amount_awarded2</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_sqrt</a></span>(<span class="kw">labels</span> <span class="kw">=</span> <span class="kw pkg">scales</span><span class="kw ns">::</span><span class="fu"><a href="https://scales.r-lib.org//reference/label_dollar.html">dollar_format</a></span>(<span class="kw">prefix</span> <span class="kw">=</span> <span class="st">"£"</span>),
               <span class="kw">breaks</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1000</span>, <span class="fl">5000</span>, <span class="fl">10000</span>, <span class="fl">25000</span>, <span class="fl">50000</span>, <span class="fl">75000</span>, <span class="fl">100000</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_x_discrete</a></span>(<span class="kw">labels</span> <span class="kw">=</span> <span class="kw pkg">scales</span><span class="kw ns">::</span><span class="fu"><a href="https://scales.r-lib.org//reference/label_wrap.html">wrap_format</a></span>(<span class="fl">30</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_c</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"Funder"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"Amount Awarded 
       (in 100,000s, note logarithmic scale)"</span>,
       <span class="kw">title</span> <span class="kw">=</span> <span class="st">"Total Value of Grants Awarded by Twenty Largest Funders"</span>,
       <span class="kw">caption</span> <span class="kw">=</span> <span class="st">"(c) Evan Odell | Disability Rights UK | 2020 | CC-BY-SA
       Data from 360Giving"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="kw">axis.text.x</span> <span class="kw">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span>(<span class="kw">angle</span> <span class="kw">=</span> <span class="fl">45</span>, <span class="kw">hjust</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">8</span>),
        <span class="kw">legend.position</span> <span class="kw">=</span> <span class="st">"none"</span>)

<span class="no">p1</span></pre></div>
<p><img src="reference/figures/total-value.png"></p>
</div>
<div id="notes" class="section level2">
<h2 class="hasAnchor">
<a href="#notes" class="anchor"></a>Notes</h2>
<p>This project is possible thanks to support and encouragement from David Kane at <a href="http://www.threesixtygiving.org/">360Giving</a>, and from <a href="https://www.disabilityrightsuk.org/">Disability Rights UK</a>.</p>
<div id="data-licences" class="section level3">
<h3 class="hasAnchor">
<a href="#data-licences" class="anchor"></a>Data licences</h3>
<p>The actual grant data is available under a variety of open licences, typically a version of the Open Government Licence or one of the Creative Commons licences. Please respect the licence conditions that are attached to each dataset.</p>
</div>
<div id="citing-threesixtygiving" class="section level3">
<h3 class="hasAnchor">
<a href="#citing-threesixtygiving" class="anchor"></a>Citing <code>threesixtygiving</code>
</h3>
<p>Please cite <code>threesixtygiving</code> as:</p>
<p>Odell, Evan (2020). <em>threesixtygiving: Download Charitable Grants from the ‘360Giving’ Platform</em>. doi: <a href="https://doi.org/10.5281/zenodo.3474128">10.5281/zenodo.3474128</a>, R package version 0.2.0, URL: <a href="https://docs.evanodell.com/threesixtygiving" class="uri">https://docs.evanodell.com/threesixtygiving</a></p>
<p>A BibTeX entry for LaTeX users is:</p>
<pre><code>  @Manual{,
    title = {threesixtygiving: Download Charitable Grants from the '360Giving' Platform},
    author = {Evan Odell},
    year = {2020},
    doi = {10.5281/zenodo.3474128},
    url = {https://docs.evanodell.com/threesixtygiving},
    note = {R package version 0.2.0},
  }</code></pre>
</div>
<div id="code-of-conduct" class="section level3">
<h3 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h3>
<p>Please note that the <code>threesixtygiving</code> package is released with a <a href="https://github.com/evanodell/threesixtygiving/blob/master/CODE_OF_CONDUCT.md">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/evanodell/threesixtygiving/">https://​github.com/​evanodell/​threesixtygiving/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/evanodell/threesixtygiving/issues">https://​github.com/​evanodell/​threesixtygiving/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing threesixtygiving</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://evanodell.com">Evan Odell</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-1845-808X" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/License-GPLv3-blue.svg" alt="License: GPL v3"></a></li>
<li><a href="https://cran.r-project.org/package=threesixtygiving"><img src="https://www.r-pkg.org/badges/version/threesixtygiving" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://github.com/evanodell/threesixtygiving"><img src="https://img.shields.io/github/tag/evanodell/threesixtygiving.svg" alt="GitHub tag"></a></li>
<li><a href="https://dgrtwo.shinyapps.io/cranview/"><img src="https://cranlogs.r-pkg.org/badges/grand-total/threesixtygiving"></a></li>
<li><a href="https://travis-ci.org/evanodell/threesixtygiving"><img src="https://travis-ci.org/evanodell/threesixtygiving.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://codecov.io/gh/evanodell/threesixtygiving?branch=master"><img src="https://codecov.io/gh/evanodell/threesixtygiving/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://ci.appveyor.com/project/evanodell/threesixtygiving"><img src="https://ci.appveyor.com/api/projects/status/github/evanodell/threesixtygiving?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/195080045"><img src="https://zenodo.org/badge/195080045.svg" alt="DOI"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://evanodell.com">Evan Odell</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
